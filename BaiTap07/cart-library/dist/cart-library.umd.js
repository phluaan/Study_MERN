(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".btn{padding:10px 16px;border-radius:6px;font-weight:700;cursor:pointer;border:none}.btn-primary{background:#07689f;color:#fff}.btn-primary:hover{background:#ff7e67}.btn-secondary{background:#a2d5f2;color:#fff}.btn-danger{background:red;color:#fff}.input{border:1px solid #ccc;padding:8px 12px;border-radius:6px}.card{background:#fff;border-radius:8px;padding:16px;box-shadow:0 2px 6px #0000001a;margin-bottom:16px}.cart-container{display:flex;gap:20px;max-width:1200px;margin:40px auto;padding:0 20px}.cart-items{flex:2}.cart-summary{flex:1}.cart-summary h2{margin-bottom:16px;font-size:20px}.summary-line{display:flex;justify-content:space-between;margin-bottom:8px;font-size:15px}.summary-line.total{font-weight:700;font-size:17px;border-top:1px solid #ddd;padding-top:8px}.cart-item{display:flex;gap:16px;align-items:flex-start;position:relative}.cart-item-info{flex:1;position:relative}.cart-item-img{width:100px;height:100px;object-fit:cover}.cart-item h3{margin:0;font-size:18px}.stock-status{margin-top:6px;font-size:14px}.in-stock{color:green}.out-stock{color:red}.cart-remove-btn{z-index:10;position:absolute;top:3px;right:1px;border:none;background:transparent;cursor:pointer;color:#888;font-size:16px;transition:color .2s ease}.cart-remove-btn:hover{color:red}.cart-item-bottom{display:flex;justify-content:space-between;align-items:center;margin-top:12px}.quantity-control{display:flex;align-items:center;gap:10px}.cart-price{text-align:right}.old-price{text-decoration:line-through;color:gray;margin-right:8px}.sale-price{color:#ff7e67;font-weight:700;font-size:16px}.empty-cart{text-align:center;margin-top:50px}.quantity-control .btn{width:32px;height:32px;border-radius:50%;padding:0;display:flex;align-items:center;justify-content:center;font-size:14px}.cart-summary .btn-primary{width:100%;padding:14px;font-size:16px;font-weight:700;border-radius:8px;margin-top:16px}.product-list{max-width:1200px;margin:30px auto;padding:0 20px}.products-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;justify-items:center}.product-card{width:100%;max-width:250px;background:#fff;border-radius:10px;box-shadow:0 3px 8px #00000014;display:flex;flex-direction:column;transition:transform .2s ease,box-shadow .2s ease;overflow:hidden}.product-card:hover{transform:translateY(-5px);box-shadow:0 6px 15px #0000001f}.product-img{width:100%;height:180px;object-fit:contain;background:#fff;padding:10px;border-bottom:1px solid #eee}.product-info{padding:16px;flex:1;display:flex;flex-direction:column;justify-content:space-between}.product-info h3{margin:0 0 6px;font-size:18px}.product-info .desc{font-size:14px;color:#555;margin-bottom:10px}.product-info .price{margin:8px 0}.product-info .old-price{text-decoration:line-through;color:gray;margin-right:6px;font-size:14px}.product-info .sale-price{color:#ff7e67;font-size:16px;font-weight:700}.view-cart{text-align:center;margin-top:30px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
(function(p,h){typeof exports=="object"&&typeof module<"u"?h(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],h):(p=typeof globalThis<"u"?globalThis:p||self,h(p.CartLibrary={},p.React))})(this,(function(p,h){"use strict";var T={exports:{}},N={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F;function re(){if(F)return N;F=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,o,i){var m=null;if(i!==void 0&&(m=""+i),o.key!==void 0&&(m=""+o.key),"key"in o){i={};for(var v in o)v!=="key"&&(i[v]=o[v])}else i=o;return o=i.ref,{$$typeof:e,type:s,key:m,ref:o!==void 0?o:null,props:i}}return N.Fragment=n,N.jsx=a,N.jsxs=a,N}var P={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M;function te(){return M||(M=1,process.env.NODE_ENV!=="production"&&(function(){function e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Se?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case _e:return"Profiler";case ye:return"StrictMode";case Pe:return"Suspense";case Te:return"SuspenseList";case we:return"Activity"}if(typeof r=="object")switch(typeof r.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),r.$$typeof){case ge:return"Portal";case Oe:return(r.displayName||"Context")+".Provider";case Ee:return(r._context.displayName||"Context")+".Consumer";case Ne:var c=r.render;return r=r.displayName,r||(r=c.displayName||c.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Re:return c=r.displayName||null,c!==null?c:e(r.type)||"Memo";case J:c=r._payload,r=r._init;try{return e(r(c))}catch{}}return null}function n(r){return""+r}function a(r){try{n(r);var c=!1}catch{c=!0}if(c){c=console;var l=c.error,d=typeof Symbol=="function"&&Symbol.toStringTag&&r[Symbol.toStringTag]||r.constructor.name||"Object";return l.call(c,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",d),n(r)}}function s(r){if(r===C)return"<>";if(typeof r=="object"&&r!==null&&r.$$typeof===J)return"<...>";try{var c=e(r);return c?"<"+c+">":"<...>"}catch{return"<...>"}}function o(){var r=A.A;return r===null?null:r.getOwner()}function i(){return Error("react-stack-top-frame")}function m(r){if(X.call(r,"key")){var c=Object.getOwnPropertyDescriptor(r,"key").get;if(c&&c.isReactWarning)return!1}return r.key!==void 0}function v(r,c){function l(){H||(H=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",c))}l.isReactWarning=!0,Object.defineProperty(r,"key",{get:l,configurable:!0})}function u(){var r=e(this.type);return Q[r]||(Q[r]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),r=this.props.ref,r!==void 0?r:null}function j(r,c,l,d,y,x,I,Y){return l=x.ref,r={$$typeof:G,type:r,key:c,props:x,_owner:y},(l!==void 0?l:null)!==null?Object.defineProperty(r,"ref",{enumerable:!1,get:u}):Object.defineProperty(r,"ref",{enumerable:!1,value:null}),r._store={},Object.defineProperty(r._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(r,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(r,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:I}),Object.defineProperty(r,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:Y}),Object.freeze&&(Object.freeze(r.props),Object.freeze(r)),r}function b(r,c,l,d,y,x,I,Y){var f=c.children;if(f!==void 0)if(d)if(ke(f)){for(d=0;d<f.length;d++)E(f[d]);Object.freeze&&Object.freeze(f)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else E(f);if(X.call(c,"key")){f=e(r);var O=Object.keys(c).filter(function(Ce){return Ce!=="key"});d=0<O.length?"{key: someKey, "+O.join(": ..., ")+": ...}":"{key: someKey}",ee[f+d]||(O=0<O.length?"{"+O.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,d,f,O,f),ee[f+d]=!0)}if(f=null,l!==void 0&&(a(l),f=""+l),m(c)&&(a(c.key),f=""+c.key),"key"in c){l={};for(var D in c)D!=="key"&&(l[D]=c[D])}else l=c;return f&&v(l,typeof r=="function"?r.displayName||r.name||"Unknown":r),j(r,f,x,y,o(),l,I,Y)}function E(r){typeof r=="object"&&r!==null&&r.$$typeof===G&&r._store&&(r._store.validated=1)}var g=h,G=Symbol.for("react.transitional.element"),ge=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),ye=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),Oe=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),Se=Symbol.for("react.client.reference"),A=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=Object.prototype.hasOwnProperty,ke=Array.isArray,L=console.createTask?console.createTask:function(){return null};g={react_stack_bottom_frame:function(r){return r()}};var H,Q={},Z=g.react_stack_bottom_frame.bind(g,i)(),K=L(s(i)),ee={};P.Fragment=C,P.jsx=function(r,c,l,d,y){var x=1e4>A.recentlyCreatedOwnerStacks++;return b(r,c,l,!1,d,y,x?Error("react-stack-top-frame"):Z,x?L(s(r)):K)},P.jsxs=function(r,c,l,d,y){var x=1e4>A.recentlyCreatedOwnerStacks++;return b(r,c,l,!0,d,y,x?Error("react-stack-top-frame"):Z,x?L(s(r)):K)}})()),P}var q;function ne(){return q||(q=1,process.env.NODE_ENV==="production"?T.exports=re():T.exports=te()),T.exports}var t=ne();const _=({children:e,onClick:n,disabled:a,variant:s="primary"})=>t.jsx("button",{className:`btn btn-${s}`,onClick:n,disabled:a,children:e}),ae=({value:e,onChange:n,placeholder:a,type:s="text"})=>t.jsx("input",{className:"input",type:s,value:e,onChange:n,placeholder:a}),se=({isOpen:e,onClose:n,children:a})=>e?t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal",children:[a,t.jsx("button",{className:"btn btn-danger",onClick:n,children:"Đóng"})]})}):null,k=({children:e})=>t.jsx("div",{className:"card",children:e});var z={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$=h.createContext&&h.createContext(z),ce=["attr","size","title"];function ie(e,n){if(e==null)return{};var a=oe(e,n),s,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)s=i[o],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function oe(e,n){if(e==null)return{};var a={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(n.indexOf(s)>=0)continue;a[s]=e[s]}return a}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},R.apply(this,arguments)}function W(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),a.push.apply(a,s)}return a}function w(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?W(Object(a),!0).forEach(function(s){le(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function le(e,n,a){return n=ue(n),n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function ue(e){var n=de(e,"string");return typeof n=="symbol"?n:n+""}function de(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function U(e){return e&&e.map((n,a)=>h.createElement(n.tag,w({key:a},n.attr),U(n.child)))}function S(e){return n=>h.createElement(fe,R({attr:w({},e.attr)},n),U(e.child))}function fe(e){var n=a=>{var{attr:s,size:o,title:i}=e,m=ie(e,ce),v=o||a.size||"1em",u;return a.className&&(u=a.className),e.className&&(u=(u?u+" ":"")+e.className),h.createElement("svg",R({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,s,m,{className:u,style:w(w({color:e.color||a.color},a.style),e.style),height:v,width:v,xmlns:"http://www.w3.org/2000/svg"}),i&&h.createElement("title",null,i),e.children)};return $!==void 0?h.createElement($.Consumer,null,a=>n(a)):n(z)}function me(e){return S({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function pe(e){return S({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function he(e){return S({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function B(e){return S({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const ve=({value:e,max:n,min:a=1,onChange:s})=>t.jsxs("div",{className:"quantity-control",children:[t.jsx(_,{variant:"secondary",disabled:e<=a,onClick:()=>s(e-1),children:t.jsx(pe,{})}),t.jsx("span",{children:e}),t.jsx(_,{variant:"secondary",disabled:e>=n,onClick:()=>s(e+1),children:t.jsx(he,{})})]}),V=({item:e,onUpdateQuantity:n,onRemove:a})=>t.jsx(k,{children:t.jsxs("div",{className:"cart-item",children:[t.jsx("button",{className:"cart-remove-btn",onClick:a,children:t.jsx(B,{})}),t.jsx("img",{src:e.product.images?.[0],alt:e.product.name,className:"cart-item-img"}),t.jsxs("div",{className:"cart-item-info",children:[t.jsx("h3",{children:e.product.name}),t.jsx("p",{children:e.product.description}),t.jsx("div",{className:"stock-status",children:e.product.stock>=e.quantity?t.jsxs("span",{className:"in-stock",children:[t.jsx(me,{})," In stock (",e.product.stock," available)"]}):t.jsxs("span",{className:"out-stock",children:[t.jsx(B,{})," Out of stock"]})}),t.jsxs("div",{className:"cart-item-bottom",children:[t.jsx(ve,{value:e.quantity,max:e.product.stock,onChange:s=>n(s)}),t.jsx("div",{className:"cart-price",children:e.product.salePrice?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"old-price",children:[e.product.price.toLocaleString(),"₫"]}),t.jsxs("span",{className:"sale-price",children:[e.product.salePrice.toLocaleString(),"₫"]})]}):t.jsxs("span",{className:"sale-price",children:[e.product.price.toLocaleString(),"₫"]})})]})]})]})}),je=({subtotal:e,delivery:n,total:a,onCheckout:s})=>t.jsxs(k,{children:[t.jsx("h2",{children:"Order Summary"}),t.jsxs("div",{className:"summary-line",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:[e.toLocaleString(),"₫"]})]}),t.jsxs("div",{className:"summary-line",children:[t.jsx("span",{children:"Shipping fee"}),t.jsxs("span",{children:[n.toLocaleString(),"₫"]})]}),t.jsxs("div",{className:"summary-line total",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:[a.toLocaleString(),"₫"]})]}),t.jsx(_,{variant:"primary",onClick:s,children:"Proceed to Checkout"})]}),be=({items:e=[],setItems:n,loading:a,onCheckout:s})=>{const o=(j,b)=>{n(E=>E.map(g=>g.product._id===j?{...g,quantity:b}:g))},i=j=>{n(b=>b.filter(E=>E.product._id!==j))},m=e.reduce((j,b)=>j+(b.product.salePrice||b.product.price)*b.quantity,0),v=0,u=m+v;return a?t.jsx("p",{className:"loading",children:"Đang tải..."}):e.length===0?t.jsxs("div",{className:"empty-cart",children:[t.jsx("h2",{children:"Giỏ hàng trống"}),t.jsx("p",{children:"Bạn chưa có sản phẩm nào trong giỏ."}),t.jsx(_,{variant:"primary",children:"Tiếp tục mua sắm"})]}):t.jsxs("div",{className:"cart-container",children:[t.jsx("div",{className:"cart-items",children:e.map(j=>t.jsx(V,{item:j,onUpdateQuantity:b=>o(j.product._id,b),onRemove:()=>i(j.product._id)},j.product._id))}),t.jsx("div",{className:"cart-summary",children:t.jsx(je,{subtotal:m,delivery:v,total:u,onCheckout:s})})]})},xe=({products:e,items:n,setItems:a,onViewCart:s})=>{const o=i=>{a(m=>m.find(u=>u.product._id===i._id)?m.map(u=>u.product._id===i._id?{...u,quantity:u.quantity+1}:u):[...m,{product:i,quantity:1}])};return t.jsxs("div",{className:"product-list",children:[t.jsx("h2",{children:"Danh sách sản phẩm"}),t.jsx("div",{className:"products-grid",children:e.map(i=>t.jsxs("div",{className:"product-card",children:[t.jsx("img",{src:i.images[0],alt:i.name,className:"product-img"}),t.jsxs("div",{className:"product-info",children:[t.jsx("h3",{children:i.name}),t.jsx("p",{className:"desc",children:i.description}),t.jsxs("p",{className:"price",children:[i.salePrice&&t.jsxs("span",{className:"old-price",children:[i.price.toLocaleString(),"₫"]}),t.jsxs("b",{className:"sale-price",children:[(i.salePrice||i.price).toLocaleString(),"₫"]})]}),t.jsx(_,{onClick:()=>o(i),children:"Thêm vào giỏ"})]})]},i._id))}),t.jsx("div",{className:"view-cart",children:t.jsxs(_,{variant:"primary",onClick:s,children:["Xem giỏ hàng (",n.length,")"]})})]})};p.Button=_,p.Card=k,p.CartItem=V,p.CartPage=be,p.Input=ae,p.Modal=se,p.ProductListPage=xe,Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})}));
